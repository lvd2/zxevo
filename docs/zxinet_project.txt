Варианты сабжа:
1. делать сетевушку в хзбас
2. делать на армах в 26666
3. делать через сериальный порт в пентеве.

Варианты, кроме 3его, пока отпадают.

Варианты через сериальный порт:

1. PPP протокол с пц
2. жопорез-мудем с мобилой
3. собственный протокол с пц, который служит буфером в инет.

по протоколу ппп, равно как и по модему, ходят IP-пакеты, если не хуже. А
интернет - это, в основном, тцп, который поверх ип. Т.е. для вариантов 1 и 2
придётся делать тцп-ип стек, со всеми его буферизациями, сборкой потока из
пакетов, временными задержками для софтстарта и тд и тп, и ещ 100500 тонн
говна. Получится целая ось, поверх которой, может быть, сможет работать
прикладуха. Итого, варианты 1 и 2 фтопку (как свой стек, так и портировать
готовый).

Остатся пункт 3.

Что хотим уметь делать.
1. Уметь коннектиться к заданному порту к заданному ойпи (или днс-имени) и
работать с тцп-соединением как с потоком байтиков туда и сюда (чем, собственно
[потоком байтиков], тцп-соединение и является для прикладухи).
2. опционально, уметь слушать порты

На что похожа наша хотелка? На протокол для проксей SOCK5.
http://ru.wikipedia.org/wiki/SOCKS
http://rfc2.ru/1928.rfc

Как происходит работа скажем браузера через такую вещь:
1. браузер коннектится по заданному в настройках ойпи и порту к сокс5 серверу
   тцп-соединением.
2. Проходят процедуры аутентификации и проч., что описано по ссылкам выше.
3. Браузер дат серверу ойпи (или днс-имя) и порт, к которому он хочет
   законектиться
4. сервер конектится и далее туннелирует данные в тцп-соединение с браузером.

Таким образом, даже лукап днс-имени через днс-протокол не надо делать самому!

Как это можно разложить на наш сериал:

Данные по сериалу гуляют в виде неких пакетов (не имеющих отношения к
ип-пакетам), каждый пакет принадлежит одному из 255 виртуальных каналов. Каждый
канал может быть в закрытом и открытом состоянии, может быть открыт со стороны
спека и далее закрыт по инициативе любой из сторон. Вновь открытый канал
выглядит как тпц-соединение с сервером сокс5. Т.е. после открытия надо вести
себя так, как будто мы законнектились с сокс5, задать куда хотим соединиться и
получить туннелированное соединение в виде потока байт туда и обратно.

Также д.б. контроль целостности соединения по виртуальному каналу
(необязательно без искажения данных). Напрмиер, если по сериалу какие-то
байтики потерялись или исказились, это должно стать понятным обоим сторонам.
Это требует введения црц в наши мини-пакетики.

Фишки:
1. спек совершенно не парится тцп-ип стеком.
2. в дальнейшем, такая шняга может хорошо лечь как на вариант 1 из начала
   мессаги, так и на вариант 2. И даже на вариант мобилы и жопореза, если в
   мобиле (например, андроидной) программно доступен сериальный порт.

3. В случае пункта 2, у прикладухи меняется только драйвер пересылки байтиков
   (например с сериального на кое-26666-армовый).

4. основная нагрузка по реализации протокола - на пц и прочих гигагерцевых
   поделках

Ахтунги:
1. пока нужен пц (он так и так нужен, хуле уж тут).
2. На пц нужно уметь установить сокс5 сервер (виндузятники судорожно начинают
   двигать мышками и жать баттоны :)

3. на пц надо написать прикладуху для связи сериала с сокс5.

